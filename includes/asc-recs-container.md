---
author: memildin
ms.service: security-center
ms.topic: include
ms.date: 03/14/2021
ms.author: memildin
ms.custom: generated
ms.openlocfilehash: 4a03a36f098035db1a91b4516dedb6a303aa41d2
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/30/2021
ms.locfileid: "103466164"
---
Diese Kategorie enthält **24** Empfehlungen.

|Empfehlung |BESCHREIBUNG |severity |
|---|---|---|
|Azure Defender für Containerregistrierungen sollte aktiviert werden |Um sichere containerisierte Workloads zu erstellen, stellen Sie sicher, dass die Images, auf denen sie basieren, keine bekannten Sicherheitsrisiken aufweisen.<br>Azure Defender für Containerregistrierungen überprüft Ihre Registrierung auf Sicherheitsrisiken für jedes gepushte Containerimage und macht für jedes Image detaillierte Ergebnisse verfügbar.<br>Aktivieren Sie Azure Defender für Containerregistrierungen, um den Sicherheitsstatus Ihrer Container zu verbessern und diese vor Angriffen zu schützen.<br><br>Wichtig: Wenn Sie diese Empfehlung umsetzen, fallen Gebühren für den Schutz Ihrer Containerregistrierungen an. Es fallen keine Gebühren an, falls Sie in diesem Abonnement nicht über Containerregistrierungen verfügen.<br>Wenn Sie Containerregistrierungen in diesem Abonnement erstellen, werden diese automatisch geschützt, und die Gebühren fallen ab diesem Zeitpunkt an.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-container-registry-integration'>Informieren Sie sich über Azure Defender für Containerregistrierungen.</a><br />(Zugehörige Richtlinie: [Azure Defender für Containerregistrierungen sollte aktiviert werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2fc25d9a16-bc35-4e15-a7e5-9db606bf9ed4)) |Hoch |
|Azure Defender für Kubernetes sollte aktiviert werden |Azure Defender für Kubernetes verfügt über einen Echtzeitbedrohungsschutz für Ihre Containerumgebungen und generiert Warnungen vor verdächtigen Aktivitäten.<br>Mit diesen Informationen können Sie schnell Sicherheitsprobleme lösen und die Sicherheit Ihrer Container verbessern.<br><br>Wichtig: Wenn Sie diese Empfehlung umsetzen, fallen Gebühren für den Schutz Ihrer Kubernetes-Cluster an. Es fallen keine Gebühren an, falls Sie in diesem Abonnement nicht über Kubernetes-Cluster verfügen.<br>Wenn Sie Kubernetes-Cluster in diesem Abonnement erstellen, werden diese automatisch geschützt, und die Abrechnung der Gebühren beginnt ab diesem Zeitpunkt.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration'>Informieren Sie sich über Azure Defender für Kubernetes.</a><br />(Zugehörige Richtlinie: [Azure Defender für Kubernetes sollte aktiviert werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2f523b5cd1-3e23-492f-a539-13118b6d1e3a)) |Hoch |
|Azure Policy-Add-On für Kubernetes muss auf Ihren Clustern installiert und aktiviert sein |Das Azure Policy-Add-On für Kubernetes ist eine Erweiterung für <a target="_blank" href="https://github.com/open-policy-agent/gatekeeper">Gatekeeper</a> v3 (OPA-Webhook (<a target="_blank" href="https://www.openpolicyagent.org/">Open Policy Agent</a>) für die Zugangssteuerung), um umfassende Durchsetzungen und Schutzvorrichtungen für Ihre Cluster zentral und konsistent anzuwenden.<p>Für Security Center ist es erforderlich, dass das Add-On Sicherheitsfunktionen und Compliance in Ihren Clustern überwacht und erzwingt. <a target="_blank" href="https://docs.microsoft.com/azure/governance/policy/concepts/policy-for-kubernetes"> Weitere Informationen</a>.</p><p>Kubernetes v1.14.0 oder höher erforderlich.</p><br />(Zugehörige Richtlinie: [Das Azure Policy-Add-On für den Kubernetes-Dienst (AKS) muss auf Ihren Clustern installiert und aktiviert sein](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0a15ec92-a229-4763-bb14-0ea34a568f8d)) |Hoch |
|Für Container müssen CPU- und Arbeitsspeicherlimits erzwungen werden |Durch das Erzwingen von Grenzwerten für CPU und Arbeitsspeicher werden Ressourcenauslastungsangriffe (eine Art von Denial-of-Service-Angriff) verhindert.<p>Es wird empfohlen, durch Grenzwerte für Container sicherzustellen, dass die Runtime den Container daran hindert, mehr als die konfigurierten Ressourcengrenzwerte zu verwenden.</p><br />(Zugehörige Richtlinie: [Sicherstellen, dass Containerlimits für CPU- und Arbeitsspeicherressourcen im Kubernetes-Cluster nicht überschritten werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe345eecc-fa47-480f-9e88-67dcc122b164)) |Medium |
|Containerimages dürfen nur aus vertrauenswürdigen Registrierungen bereitgestellt werden |In Ihrem Kubernetes-Cluster ausgeführte Images sollten aus bekannten und überwachten Containerimageregistrierungen stammen. Durch vertrauenswürdige Containerregistrierungen wird das Risiko von Gefährdungen für Ihren Cluster reduziert, indem die Wahrscheinlichkeit für unbekannte Sicherheitsrisiken oder -probleme oder die Nutzung schädlicher Images verringert wird.<br />(Zugehörige Richtlinie: [Nur Ausführung zulässiger Containerimages im Kubernetes-Cluster zulassen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffebd0533-8e55-448f-b837-bd0e06f16469)) |Hoch |
|Containerregistrierungen müssen mit einem kundenseitig verwalteten Schlüssel (CMK) verschlüsselt werden |Verwenden Sie kundenseitig verwaltete Schlüssel, um die Verschlüsselung ruhender Daten für den Inhalt Ihrer Registrierungen zu verwalten. Standardmäßig werden die Daten im Ruhezustand mit dienstseitig verwalteten Schlüsseln verschlüsselt. Zur Einhaltung gesetzlicher Bestimmungen sind aber häufig kundenseitig verwaltete Schlüssel (Customer-Managed Keys, CMKs) erforderlich. Mit CMKs können die Daten mit einem Azure Key Vault-Schlüssel verschlüsselt werden, der von Ihnen erstellt wird und sich in Ihrem Besitz befindet. Sie verfügen über die volle Kontrolle über und Verantwortung für den Schlüssellebenszyklus, einschließlich Rotation und Verwaltung. Weitere Informationen zur CMK-Verschlüsselung finden Sie unter https://aka.ms/acr/CMK.<br />(Zugehörige Richtlinie: [Containerregistrierungen müssen mit einem kundenseitig verwalteten Schlüssel (CMK) verschlüsselt werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580)) |Medium |
|Containerregistrierungen dürfen keinen uneingeschränkten Netzwerkzugriff zulassen |Azure-Containerregistrierungen akzeptieren standardmäßig Verbindungen über das Internet von Hosts in beliebigen Netzwerken. Lassen Sie den Zugriff nur über bestimmte öffentliche IP-Adressen oder Adressbereiche zu, um Ihre Registrierungen vor potenziellen Bedrohungen zu schützen. Wenn Ihre Registrierung nicht über eine IP-/Firewallregel oder ein konfiguriertes virtuelles Netzwerk verfügt, wird sie unter den fehlerhaften Ressourcen aufgeführt. Weitere Informationen zu Container Registry-Netzwerkregeln finden Sie unter https://aka.ms/acr/portal/public-network und https://aka.ms/acr/vnet.<br />(Zugehörige Richtlinie: [Containerregistrierungen dürfen keinen uneingeschränkten Netzwerkzugriff zulassen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fd0793b48-0edc-4296-a390-4c75d1bdfd71)) |Medium |
|Containerregistrierungen müssen Private Link verwenden |Mit Azure Private Link können Sie Ihr virtuelles Netzwerk mit Azure-Diensten verbinden, ohne in der Quelle oder im Ziel eine öffentliche IP-Adresse zu verwenden. Die Private Link-Plattform verarbeitet die Konnektivität zwischen dem Consumer und den Diensten über das Azure-Backbone-Netzwerk. Indem Sie private Endpunkte nicht dem gesamten Dienst, sondern nur Ihren Containerregistrierungen zuordnen, sind Sie auch vor Risiken aufgrund von Datenlecks geschützt. Weitere Informationen finden Sie unter https://aka.ms/acr/private-link.<br />(Zugehörige Richtlinie: [Containerregistrierungen müssen Private Link verwenden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe8eef0a8-67cf-4eb4-9386-14b0e78733d4)) |Medium |
|Container mit Rechteausweitung müssen vermieden werden |Container sollten nicht mit Rechteausweitung auf den Stamm in Ihrem Kubernetes-Cluster ausgeführt werden.<br>Das AllowPrivilegeEscalation-Attribut steuert, ob ein Prozess mehr Berechtigungen als der übergeordnete Prozess erhalten kann.<br />(Zugehörige Richtlinie: [Kubernetes-Cluster dürfen keine Rechteausweitung zulassen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1c6e92c9-99f0-4e55-9cf2-0c234dc48f99)) |Medium |
|Container mit Freigabe sensibler Hostnamespaces vermeiden |Vermeiden Sie zum Schutz vor einer Rechteausweitung außerhalb des Containers den Podzugriff auf sensible Hostnamespaces (Hostprozess-ID und Host-IPC) in einem Kubernetes-Cluster.<br />(Zugehörige Richtlinie: [Container im Kubernetes-Cluster dürfen den Namespace für Hostprozess-ID oder Host-IPC nicht freigeben](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8)) |Medium |
|Container dürfen nur an zulässigen Ports lauschen |Um die Angriffsfläche Ihres Kubernetes-Clusters zu verringern, schränken Sie den Zugriff auf den Cluster ein, indem Sie den Containerzugriff auf die konfigurierten Ports beschränken.<br />(Zugehörige Richtlinie: [Sicherstellen, dass Container nur an zulässigen Ports im Kubernetes-Cluster lauschen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f440b515e-a580-421e-abeb-b159a61ddcbc)) |Medium |
|Unveränderliches (schreibgeschütztes) Stammdateisystem für Container erzwingen |Container sollten in Ihrem Kubernetes-Cluster mit einem schreibgeschützten Stammdateisystem ausgeführt werden. Ein unveränderliches Dateisystem schützt Container vor Änderungen zur Laufzeit, wenn im PATH schädliche Binärdateien hinzugefügt werden.<br />(Zugehörige Richtlinie: [Container im Kubernetes-Cluster müssen mit einem schreibgeschützten Stammdateisystem ausgeführt werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fdf49d893-a74c-421d-bc95-c663042e5b80)) |Medium |
|Auf Kubernetes-Cluster sollte nur über HTTPS zugegriffen werden können |Durch die Verwendung von HTTPS wird die Authentifizierung sichergestellt, und Daten werden bei der Übertragung vor Abhörangriffen auf der Vermittlungsschicht geschützt. Diese Funktion ist derzeit für Kubernetes Service (AKS) allgemein verfügbar und steht für AKS Engine und Kubernetes mit Azure Arc-Unterstützung als Vorschauversion zur Verfügung. Weitere Informationen finden Sie unter https://aka.ms/kubepolicydoc.<br />(Zugehörige Richtlinie: [Eingehenden HTTPS-Datenverkehr im Kubernetes-Cluster erzwingen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d)) |High |
|Kubernetes Service-Verwaltungs-API-Server sollte mit eingeschränktem Zugriff konfiguriert sein |Schränken Sie den Zugriff auf Ihren Kubernetes Service-Verwaltungs-API-Server ein, um sicherzustellen, dass nur Anwendungen aus zulässigen Netzwerken, von zulässigen Computern oder aus zulässigen Subnetzen auf Ihren Cluster zugreifen können. Sie können den Zugriff einschränken, indem Sie autorisierte IP-Bereiche definieren oder Ihre API-Server als private Cluster einrichten, wie in <a target='_blank' href=https://docs.microsoft.com/azure/aks/private-clusters>https://docs.microsoft.com/azure/aks/private-clusters</a> erläutert.<br />(Zugehörige Richtlinie: [In Kubernetes Services sollten autorisierte IP-Adressbereiche definiert werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0e246bcf-5f6f-4f87-bc6f-775d4712c7ea)) |Hoch |
|Für Kubernetes Service muss ein Upgrade auf eine Kubernetes-Version ohne Sicherheitsrisiko durchgeführt werden. |Führen Sie ein Upgrade Ihres Kubernetes Service-Clusters auf eine höhere Kubernetes-Version durch, um es vor bekannten Sicherheitsrisiken in Ihrer aktuellen Kubernetes-Version zu schützen. Das Sicherheitsrisiko <a target='_blank' href='https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9946'>CVE-2019-9946</a> wurde in den Kubernetes-Versionen 1.11.9+, 1.12.7+, 1.13.5+ und 1.14.0+ gepatcht.<br />(Zugehörige Richtlinie: [ Kubernetes-Dienste sollten auf eine Kubernetes-Version ohne Sicherheitsrisiko upgegradet werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffb893a29-21bb-418c-a157-e99480ec364c)) |Hoch |
|Linux-Funktionen mit den niedrigsten Berechtigungen für Container erzwingen |Um die Angriffsfläche Ihres Containers zu verringern, schränken Sie Linux-Funktionen ein, und erteilen Sie Containern anstelle von Privilegien als Root-Benutzer spezifische Berechtigungen. Wir empfehlen Ihnen, alle Funktionen zu löschen und anschließend die benötigten Funktionen hinzuzufügen.<br />(Zugehörige Richtlinie: [Container in einem Kubernetes-Cluster dürfen nur zulässige Funktionen verwenden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fc26596ff-4d70-4e6a-9a30-c2506bd2f80c)) |Medium |
|Überschreiben oder Deaktivieren des AppArmor-Profils für Container einschränken |In Ihrem Kubernetes-Cluster ausgeführte Container sollten auf zulässige AppArmor-Profile beschränkt sein.<br>AppArmor (Anwendungsrüstung) ist ein Linux-Sicherheitsmodul, das ein Betriebssystem und dessen Anwendungen vor Sicherheitsbedrohungen schützt. Zur Verwendung ordnet ein Systemadministrator jedem Programm ein AppArmor-Sicherheitsprofil zu.<br />(Zugehörige Richtlinie: [Container in einem Kubernetes-Cluster sollten nur zulässige AppArmor-Profile verwenden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f511f5417-5d12-434d-ab2e-816901e72a5e)) |Hoch |
|Privilegierte Container müssen vermieden werden |Um unbeschränkten Hostzugriff zu verhindern, sollten Sie nach Möglichkeit privilegierte Container vermeiden.<p>Privilegierte Container verfügen über alle Stammfunktionen eines Hostcomputers. Sie können als Einstiegspunkte für Angriffe und zum Verteilen von schädlichem Code oder Schadsoftware auf kompromittierte Anwendungen, Hosts und Netzwerke verwendet werden.</p><br />(Zugehörige Richtlinie: [Privilegierte Container im Kubernetes-Cluster nicht zulassen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f95edb821-ddaf-4404-9732-666045e056b4)) |Medium |
|Für Kubernetes-Dienste muss die rollenbasierte Zugriffssteuerung (Role-Based Access Control, RBAC) verwendet werden |Um eine granulare Filterung anhand der durch die Benutzer ausführbaren Aktionen zu ermöglichen, verwenden Sie die rollenbasierte Zugriffssteuerung (Role Based Access Control, RBAC), um Berechtigungen in Kubernetes Service-Clustern zu verwalten und relevante Autorisierungsrichtlinien zu konfigurieren. Weitere Informationen finden Sie unter <a target='_blank' href='https://docs.microsoft.com/azure/aks/concepts-identity#role-based-access-controls-rbac'>Rollenbasierte Zugriffssteuerung (RBAC)</a>.<br />(Zugehörige Richtlinie: [Für Kubernetes-Dienste muss die rollenbasierte Zugriffssteuerung (Role-Based Access Control, RBAC) verwendet werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fac4a19c2-fa67-49b4-8ae5-0b2e78c49457)) |Hoch |
|Das Ausführen von Containern als Root-Benutzer muss vermieden werden |Container sollten in Ihrem Kubernetes-Cluster nicht als Root-Benutzer ausgeführt werden. Wenn Sie einen Prozess als Root-Benutzer in einem Container ausführen, wird dieser als Root auf dem Host ausgeführt. Bei einer Gefährdung hat ein Angreifer Root-Zugriff im Container, und etwaige Fehlkonfigurationen können einfacher ausgenutzt werden.<br />(Zugehörige Richtlinie: [Pods und Container in einem Kubernetes-Cluster dürfen nur mit genehmigten Benutzer- und Gruppen-IDs ausgeführt werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ff06ddb64-5fa3-4b77-b166-acb36f7f6042)) |Hoch |
|Dienste dürfen nur an zulässigen Ports lauschen |Um die Angriffsfläche Ihres Kubernetes-Clusters zu verringern, schränken Sie den Zugriff auf den Cluster ein, indem Sie den Dienstzugriff auf die konfigurierten Ports beschränken.<br />(Zugehörige Richtlinie: [Sicherstellen, dass Dienste nur an zulässigen Ports im Kubernetes-Cluster lauschen](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f233a2a17-77ca-4fb1-9b6b-69223d272a44)) |Medium |
|Verwendung von Hostnetzwerken und -ports einschränken |Schränken Sie den Podzugriff auf das Hostnetzwerk und den zulässigen Hostportbereich in einem Kubernetes-Cluster ein. Pods, die mit aktiviertem Attribut „hostNetwork“ erstellt werden, teilen sich den Netzwerkbereich des Knotens. Um zu verhindern, dass kompromittierte Container den Netzwerkdatenverkehr ermitteln, wird empfohlen, Pods nicht im Hostnetzwerk zu platzieren. Wenn Sie einen Containerport im Netzwerk des Knotens verfügbar machen müssen und die Verwendung eines Knotenports des Kubernetes-Diensts Ihre Anforderungen nicht erfüllt, können Sie stattdessen einen Hostport für den Container in der Podspezifikation angeben.<br />(Zugehörige Richtlinie: [Pods im Kubernetes-Cluster dürfen nur genehmigte Hostnetzwerke und Portbereiche verwenden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f82985f06-dc18-4a48-bc1c-b9f4f0098cfe)) |Medium |
|Verwendung von HostPath-Volumeeinbindungen von Pods sollte auf eine bekannte Liste beschränkt sein, um den Knotenzugriff von kompromittierten Containern zu begrenzen |Wir empfehlen Ihnen, HostPath-Volumeeinbindungen von Pods in Ihrem Kubernetes-Cluster auf die konfigurierten zulässigen Hostpfade zu beschränken. Bei einer Gefährdung sollte der Zugriff auf den Containerknoten aus den Containern eingeschränkt werden<br />(Zugehörige Richtlinie: [Für HostPath-Volumes von Pods in einem Kubernetes-Cluster dürfen nur zulässige Hostpfade verwendet werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f098fc59e-46c7-4d99-9b16-64990e543d75)) |Medium |
|Sicherheitsrisiken in Azure Container Registry-Images müssen behoben werden (unterstützt von Qualys). |Die Sicherheitsrisikobewertung für Containerimages scannt Ihre Registrierung auf Sicherheitsrisiken und macht für jedes Image detaillierte Ergebnisse verfügbar. Durch die Beseitigung der Sicherheitsrisiken können Sie den Sicherheitsstatus Ihrer Container erheblich verbessern und die Container vor Angriffen schützen.<br />(Zugehörige Richtlinie: [Sicherheitsrisiken in Azure Container Registry-Images müssen behoben werden](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5f0f936f-2f01-4bf5-b6be-d423792fa562)) |Hoch |
|||
