---
title: SQL-Sicherheitsrisikobewertung für SQL Server auf Azure-VMs
description: Erläutert die SQL-Sicherheitsrisikobewertung für SQL Server-Datenbanken auf virtuellen Azure-Computern.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 7ec931f87c22ff410e378119338b8f7c31b6d640
ms.sourcegitcommit: 65a4f2a297639811426a4f27c918ac8b10750d81
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/03/2020
ms.locfileid: "96563202"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>SQL-Sicherheitsrisikobewertung für SQL Server auf Azure-VMs
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

Die SQL-Sicherheitsrisikobewertung (Vulnerability Assessment, VA) ist ein einfach zu konfigurierender Dienst, mit dem potenzielle Sicherheitsrisiken für die Datenbank ermittelt, nachverfolgt und behandelt werden können. Verwenden Sie sie zur proaktiven Verbesserung Ihrer Datenbanksicherheit für Ihre SQL Server-Instanz auf Azure-VMs. 

Die Sicherheitsrisikobewertung ist Bestandteil von [Azure Defender für SQL](../../database/azure-defender-for-sql.md). Dabei handelt es sich um ein vereinheitlichtes Paket mit erweiterten SQL-Sicherheitsfunktionen. Der Zugriff auf die Sicherheitsrisikobewertung und ihre Verwaltung sind zentral über das Azure Defender für SQL-Portal oder Azure Security Center möglich. 

## <a name="overview"></a>Übersicht

Die SQL-Sicherheitsrisikobewertung (VA) ist ein Dienst, der Aufschluss über Ihren Sicherheitsstatus gibt. Die Sicherheitsrisikobewertung beinhaltet Schritte zur Behebung von Sicherheitsproblemen sowie zur Verbesserung der Datenbanksicherheit. Sie kann Ihnen die Durchführung folgender Aufgaben erleichtern: 

- Erfüllen der Konformitätsanforderungen, die Datenbanküberprüfungs-Berichte erfordern. 
- Einhalten von Datenschutzstandards. 
- Überwachen einer dynamischen Datenbankumgebung, in der Änderungen schwer zu verfolgen sind. 

Die Sicherheitsrisikobewertung ist ein Überprüfungsdienst, der eine Wissensdatenbank mit Regeln zur Kennzeichnung von Sicherheitsrisiken verwendet. Er hebt Abweichungen von bewährten Methoden hervor (beispielsweise Fehlkonfigurationen, zu hohe Berechtigungen oder ungeschützte vertrauliche Daten). 

Die Regeln basieren auf bewährten Methoden von Microsoft und konzentrieren sich auf die Sicherheitsprobleme, die das größte Risiko für Ihre Datenbank und deren wertvolle Daten darstellt. Sie umfassen sowohl Sicherheitsprobleme auf der Datenbankebene als auch Sicherheitsprobleme auf der Serverebene (beispielsweise Serverfirewalleinstellungen oder Berechtigungen auf der Serverebene). Diese Regeln spiegeln darüber hinaus viele Anforderungen verschiedener Aufsichtsbehörden wider, um deren Konformitätsstandards zu erfüllen. 

Zu den Ergebnissen der Überprüfung zählen Aktionsschritte zum Beheben der jeweiligen Probleme und ggf. das Bereitstellen benutzerdefinierter Skripts zur Wiederherstellung. Sie können einen Bewertungsbericht für Ihre Umgebung anpassen und eine akzeptable Baseline für Folgendes festlegen: 

- Berechtigungskonfigurationen 
- Featurekonfigurationen 
- Datenbankeinstellungen 

## <a name="enable-sql-va"></a>Aktivieren von SQL-VA

Aktivieren Sie Azure Defender für SQL Server auf Computern, um die Sicherheitsrisikobewertung zu implementieren. 

Führen Sie die folgenden Schritte aus, um Azure Defender für SQL Server zu verwenden:

1. [Installieren der Erweiterung für den SQL-IaaS-Agent](sql-agent-extension-manually-register-single-vm.md)
1. [Aktivieren der automatischen Bereitstellung des Log Analytics-Agents](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma)
1. [Aktivieren des optionalen Plans auf der Security Center-Seite „Preise und Einstellungen“](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page)

Da die Sicherheitsrisikobewertung Teil von Azure Defender für SQL ist, werden Ihre Datenbanken nach der Aktivierung von Azure Defender auf dem virtuellen Computer automatisch alle 12 Stunden gescannt, um Sicherheitsrisiken zu erkennen. Die Ergebnisse werden für eine zentralisierte aggregierte Ansicht der von Azure Defender für SQL geschützten SQL-Datenumgebung an Azure Security Center gesendet. 

> [!NOTE]
> Die Überprüfung ist einfach, sicher, in wenigen Sekunden pro Datenbank ausgeführt und vollständig schreibgeschützt. Es werden keine Änderungen an Ihrer Datenbank vorgenommen. 

## <a name="view-report"></a>Anzeigen des Berichts

Der Datenbankbericht enthält eine Übersicht über Ihren Sicherheitsstatus. Es gibt Aufschluss über die Anzahl gefundener Probleme und den jeweiligen Schweregrad. Zu den Ergebnissen zählen Warnungen zu Abweichungen von bewährten Methoden sowie eine Momentaufnahme Ihrer sicherheitsbezogenen Einstellungen (beispielsweise Datenbankprinzipale und -rollen sowie die zugehörigen Berechtigungen).  

Führen Sie die folgenden Schritte aus, um den Bericht anzuzeigen:

1. Wechseln Sie zum [Azure Security Center](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) im Azure-Portal.
1. Wählen Sie **Empfehlungen** im Menü **Allgemein** aus: 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Wechseln zu „Empfehlungen“ unter „Einstellungen“ in Azure Security Center im Azure-Portal":::

1. Scrollen Sie nach unten zu den Empfehlungen, und erweitern Sie **Sicherheitsrisiken entschärfen**.
1. Wählen Sie **Ergebnisse der Sicherheitsrisikobewertung auf Ihren SQL-Servern auf Computern müssen beseitigt werden** aus. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Anzeigen des Berichts auf dem Blatt „Empfehlung“ von Azure Security Center":::

Auf dieser Seite wird eine Zusammenstellung der Sicherheitsrisiken angezeigt, die für alle SQL Server-VMs im Abonnement identifiziert werden. 


## <a name="analyze-results"></a>Ergebnisanalysen

Überprüfen Sie Ihre Ergebnisse, und identifizieren Sie, bei welchen Ergebnissen im Bericht es sich um tatsächliche Sicherheitsprobleme in Ihrer Umgebung handelt. Führen Sie einen Drilldown für jedes fehlerhafte Ergebnis aus, um die Auswirkung des Ergebnisses und die Gründe für die Fehler bei den Sicherheitsüberprüfungen nachvollziehen zu können.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="Überprüfen Sie Ihre Ergebnisse, und identifizieren Sie, bei welchen Ergebnissen im Bericht es sich um tatsächliche Sicherheitsprobleme in Ihrer Umgebung handelt.":::

## <a name="set-baseline"></a>Baseline festlegen 

Bei der Überprüfung Ihrer Bewertungsergebnisse können Sie Ergebnisse als akzeptable Baseline für Ihre Umgebung markieren. Die Baseline ist im Wesentlichen eine Anpassung der Art, in der die Ergebnisse berichtet werden. Wenn Ergebnisse in nachfolgenden Überprüfungen mit der Baseline übereinstimmen, wird dies als Bestehen gewertet. Nach dem Festlegen des Baseline-Sicherheitsstatus meldet die Sicherheitsrisikobewertung nur noch Abweichungen von der Baseline. Dadurch können Sie sich auf die relevanten Probleme konzentrieren. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="Bei der Überprüfung Ihrer Bewertungsergebnisse können Sie Ergebnisse als akzeptable Baseline für Ihre Umgebung markieren.":::

## <a name="export-results"></a>Exportieren von Ergebnissen

Exportieren Sie mit der Funktion [Fortlaufender Export](../../../security-center/continuous-export.md) des Azure Security Center Ergebnisse der Sicherheitsrisikobewertung in Azure Event Hub oder in den Log Analytics-Arbeitsbereich. 


## <a name="next-steps"></a>Nächste Schritte

Weitere Informationen finden Sie unter [Ermitteln von Sicherheitsrisiken für die Datenbank mithilfe der SQL-Sicherheitsrisikobewertung](../../database/sql-vulnerability-assessment.md) und [Was ist Azure Security Center?](../../../security-center/security-center-introduction.md).

